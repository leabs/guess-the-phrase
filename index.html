<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
      user-scalable="no"
    />
    <script src="https://cdn.jsdelivr.net/npm/tsparticles-confetti@2.9.3/tsparticles.confetti.bundle.min.js"></script>
    <title>Guess the Phrase</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
      }

      h1 {
        margin-top: 50px;
      }

      #guess {
        margin-top: 20px;
        max-width: 26px;
        font-size: 2rem;
      }

      #result {
        margin-top: 20px;
        font-size: 24px;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h1>Guess the Saying</h1>
    <p>Guess the saying by entering letters one at a time:</p>
    <p id="saying"></p>
    <label for="guess">Guess a letter:</label>
    <input type="text" id="guess" maxlength="1" />
    <button type="button" onclick="checkGuess()" id="guessButton">Guess</button>
    <p><strong>-or-</strong></p>
    <label for="solve">Would you like to solve the puzzle?</label>
    <input type="text" id="solve" />
    <button type="button" onclick="solvePuzzle()" id="solveButton">
      Solve
    </button>
    <p id="result"></p>

    <script>
      // Get the input field
      var input = document.getElementById("guess");

      // Execute a function when the user presses a key on the keyboard
      input.addEventListener("keypress", function (event) {
        // If the user presses the "Enter" key on the keyboard
        if (event.key === "Enter") {
          // Cancel the default action, if needed
          event.preventDefault();
          // Trigger the button element with a click
          document.getElementById("guessButton").click();
        }
      });
      // Get the input field
      var input = document.getElementById("solve");

      // Execute a function when the user presses a key on the keyboard
      input.addEventListener("keypress", function (event) {
        // If the user presses the "Enter" key on the keyboard
        if (event.key === "Enter") {
          // Cancel the default action, if needed
          event.preventDefault();
          // Trigger the button element with a click
          document.getElementById("solveButton").click();
        }
      });
      // Define the saying to guess
      var saying = "WHAT THE FUCK IS YOUR PROBLEM";
      var guessedLetters = [];
      // Display the saying with underscores for unguessed letters
      var displaySaying = "";
      for (var i = 0; i < saying.length; i++) {
        if (saying.charAt(i) == " ") {
          displaySaying += " ";
        } else {
          displaySaying += "_";
        }
      }
      document.getElementById("saying").innerHTML = displaySaying;

      // Check the user's guess
      function checkGuess() {
        var guess = document.getElementById("guess").value.toUpperCase();
        document.getElementById("guess").value = "";
        if (guessedLetters.includes(guess)) {
          document.getElementById("result").innerHTML =
            "You already guessed that letter!";
        } else {
          guessedLetters.push(guess);
          var newDisplaySaying = "";
          var correctGuess = false;
          for (var i = 0; i < saying.length; i++) {
            if (saying.charAt(i) == " ") {
              newDisplaySaying += " ";
            } else if (
              guessedLetters.includes(saying.charAt(i).toUpperCase())
            ) {
              newDisplaySaying += saying.charAt(i);
            } else {
              newDisplaySaying += "_";
            }
          }
          if (newDisplaySaying == displaySaying) {
            document.getElementById("result").innerHTML =
              "Sorry, that letter is not in the saying.";
          } else {
            displaySaying = newDisplaySaying;
            document.getElementById("saying").innerHTML = displaySaying;
            document.getElementById("result").innerHTML =
              "Good job! That letter is in the saying.";
          }
        }
        if (!displaySaying.includes("_")) {
          confetti({
            particleCount: 300,
            spread: 90,
            origin: { y: 0.2 },
          });
          document.getElementById("result").innerHTML =
            "Congratulations, you guessed the saying using " +
            guessedLetters.length +
            " guess!";
        }
      }

      //Solve the puzzle text input for seeing if the user can solve the puzzle
      function solvePuzzle() {
        var solve = document.getElementById("solve").value.toUpperCase();
        if (solve == saying) {
          confetti({
            particleCount: 300,
            spread: 90,
            origin: { y: 0.2 },
          });
          document.getElementById("result").innerHTML =
            "Congratulations, you guessed the saying using " +
            guessedLetters.length +
            " guess!";
          //fill in the saying at #saying
          document.getElementById("saying").innerHTML = saying;
        } else {
          document.getElementById("result").innerHTML =
            "Sorry, that is not the saying.";
        }
      }
    </script>
  </body>
</html>
